* redo f =
  * p <- outdated f
  * if p
  * then
    * run_do f
  * else
    * return ()

* redo-ifchange fs =
  * mapM redo fs >>= addChildren

* outdated f =
  * x <- exist f
  * if x
  * then
    * getChildren f >>= mapM (outdated . curry) >>= return . or
  * else
    * return True

* outdated' f oldMD5 =
  * x <- exist f
  * if x
  * then
    * newMD5 <- md5 f
    * or <$> pure (oldMD5 /= newMD5) <*> outdated f
  * else
    * return True

* run_do f =
  * newDep <- createTempFile
  * dofile <- findDoFile f
  * execute dofile
  * rename newDep (depFile f)
